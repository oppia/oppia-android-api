syntax = "proto3";

package org.oppia.proto.v1.structure;

import "proto/v1/structure/image.proto";
import "proto/v1/structure/versions.proto";

option java_package = "org.oppia.proto.v1.structure";
option java_multiple_files = true;

// Structure for a single topic summary.
message TopicSummary {
  TopicSummaryProtoVersion proto_version = 1;

  // The id of the topic summary.
  string id = 2;

  // The name of the topic summary.
  string name = 3;

  // The description of the topic summary.
  string description = 4;

  // The size of the topic summary can be repesented in one of the download types.
  oneof download_type {

    // The downloadable size of the topic summary, in bytes.
    int32 download_size_bytes = 5;

    // The update size of the topic summary, in bytes.
    int32 update_size_bytes = 6;
  }

  // A list of StorySummary related to this TopicSummary.
  repeated StorySummary story_summaries = 7;

  // A list of indexes of all the subtopic related to the TopicSummary.
  repeated int32 subtopic_indexes = 8;

  // A thubmnail image of this TopicSummary.
  Thumbnail thumbnail = 9; // TODO

  // This TopicSummary is ready to present to the learner or not. 
  bool is_published = 10;

  // The version of the contents of this TopicSummary.
  int32 content_version = 11;
}

// Structure of a single story summary.
message StorySummary {

  // The id of the story summary.
  string id = 1;

  // The title of the story summary.
  string title = 2;

  // The description of the story summary.
  string description = 3;

  // The thumbnail image of the story summary.
  Thumbnail thumbnail = 4; // TODO

  // All the chapters of this story summary.
  repeated ChapterSummary chapters = 5;

  // The version of the contents of this story summary.
  int32 content_version = 6;
}

// Structure of a single chapter summary.
message ChapterSummary {

  // The thumbnail image of this chapter summary.
  Thumbnail thumbnail = 1; // TODO

  // The title of the chapter summary.
  string title = 2;

  // The id of the exploration to which this ChapterSummary is associated.
  string exploration_id = 3;

  // The version of the contents of this chapter summary.
  int32 content_version = 4;
}

// Structure of a single subtopic summary.
message SubtopicSummary {

  // The index of the subtopic summary.
  int32 index = 1;

  // All the skills of this subtopic summary.
  repeated SkillSummary skill_summaries = 2;

  // The version of the contents of this subtopic summary.
  int32 content_version = 3;
}

// Structure of a single skill summary.
message SkillSummary {

  // The id of the skill summary.
  string id = 1;

  // The name of the skill summary. 
  string name = 2;

  // The version of the contents of this skill summary.
  int32 content_version = 4;
}
